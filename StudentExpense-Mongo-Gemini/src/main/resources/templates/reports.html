<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Expense Reports</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<h2>Yearly Expenses</h2>
<canvas id="yearChart"></canvas>

<h2>Monthly Expenses</h2>
<canvas id="monthChart"></canvas>

<h2>Weekly Expenses</h2>
<canvas id="weekChart"></canvas>

<script th:inline="javascript">
    const yearlyData = [[${yearlyData}]];
    const monthlyData = [[${monthlyData}]];
    const weeklyData = [[${weeklyData}]];

    const yearChart = new Chart(document.getElementById('yearChart'), {
        type: 'bar',
        data: {
            labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
            datasets: [{
                label: 'Expenses in ₹',
                data: yearlyData,
                backgroundColor: 'rgba(54, 162, 235, 0.6)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }]
        },
        options: { scales: { y: { beginAtZero:true } }, responsive: true }
    });

    const monthChart = new Chart(document.getElementById('monthChart'), {
        type: 'bar',
        data: {
            labels: ['Week 1','Week 2','Week 3','Week 4'],
            datasets: [{
                label: 'Expenses in ₹',
                data: monthlyData,
                backgroundColor: 'rgba(255, 99, 132, 0.6)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1
            }]
        },
        options: { scales: { y: { beginAtZero:true } }, responsive: true }
    });

    const weekChart = new Chart(document.getElementById('weekChart'), {
        type: 'bar',
        data: {
            labels: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
            datasets: [{
                label: 'Expenses in ₹',
                data: weeklyData,
                backgroundColor: 'rgba(75, 192, 192, 0.6)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: { scales: { y: { beginAtZero:true } }, responsive: true }
    });
</script>
</body>
</html>
